var haloQs = (function () {
  'use strict';

  /**
   *
   * @param name {string}
   * @param search {string}  [a=1&b=2]
   * @returns {string || null}
   */
  function get(name, search) {
      if (search === void 0) { search = window.location.href.split('?')[1]; }
      var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)');
      var r = (search || '').match(reg);
      if (r != null)
          return decodeURIComponent(r[2]); // unescape （w3c推荐使用decodeURI() 和 decodeURIComponent()）
      return null;
  }
  /**
   * @desc   url参数转对象
   * @param  {String} search  default: window.location.href
   * @return {Object}
   */
  function parse(search) {
      if (search === void 0) { search = window.location.href.split('?')[1]; }
      if (!search)
          return {};
      return decodeURIComponent(search)
          .split('&')
          .reduce(function (obj, item) {
          var _a = item.split('='), _b = _a[0], key = _b === void 0 ? '' : _b, _c = _a[1], value = _c === void 0 ? '' : _c;
          obj[key] = value;
          return obj;
      }, {});
  }
  /**
   * @desc   对象序列化
   * @param  {Object} obj
   * @return {String}
   */
  function stringify(obj) {
      if (!obj)
          return '';
      var pairs = [];
      for (var key in obj) {
          var value = obj[key];
          if (value instanceof Array) {
              for (var i = 0; i < value.length; ++i) {
                  var arrStr = key + "[" + i + "]=" + encodeURIComponent(value[i]);
                  pairs.push(arrStr);
              }
              continue;
          }
          pairs.push(encodeURIComponent(key) + "=" + encodeURIComponent(obj[key]));
      }
      return pairs.join('&');
  }
  var qs = {
      get: get,
      parse: parse,
      stringify: stringify,
  };

  return qs;

}());
