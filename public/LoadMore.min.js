var haloLoadMore = (function () {
  'use strict';

  var timer;
  /**
   * @description: 函数节流
   * @param {fn} Function
   * @param {time} Number 截流时间
   */
  function throttle(fn, time) {
      if (time === void 0) { time = 300; }
      if (typeof fn !== "function") {
          throw new Error("必须传入一个函数作为参数");
      }
      if (!timer) {
          timer = window.setTimeout(function () {
              fn();
              timer = 0;
          }, time);
      }
  }

  var LoadMore = /** @class */ (function () {
      function LoadMore(toLoadMore) {
          if (toLoadMore === void 0) { toLoadMore = function () { }; }
          // 加载更多
          this.loadMoreFn = function () {
              var ele = document.documentElement;
              var bo = document.body;
              var clientHeight = ele.clientHeight || bo.clientHeight;
              var scrollTop = ele.scrollTop || bo.scrollTop;
              var scrollHeight = bo.scrollHeight || ele.scrollHeight;
              if (scrollTop + clientHeight >= scrollHeight - 80) {
                  throttle(toLoadMore);
              }
          };
          // 绑定事件
          window.addEventListener('scroll', this.loadMoreFn);
      }
      // 取消监听
      LoadMore.prototype.destroy = function () {
          if (this.loadMoreFn) {
              window.removeEventListener('scroll', this.loadMoreFn);
              this.loadMoreFn = null;
          }
      };
      return LoadMore;
  }());

  return LoadMore;

}());
