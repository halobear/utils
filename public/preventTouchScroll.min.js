var haloPreventTouchScroll = (function () {
  'use strict';

  /**
   * 移动端阻止弹窗滚动工具类
   */
  var targetY = 0;
  var preventTouchScroll = (function (el) {
      var touchstart = function (e) {
          targetY = e.targetTouches[0].clientY;
      };
      var touchmove = function (e) {
          var newTargetY = e.targetTouches[0].clientY;
          var scrollTop = el.scrollTop;
          var scrollHeight = el.scrollHeight;
          var clientHeight = el.clientHeight;
          if (scrollTop <= 0 && newTargetY - targetY >= 0) {
              e.cancelable && e.preventDefault();
          }
          else if (scrollTop >= scrollHeight - clientHeight && newTargetY - targetY <= 0) {
              e.cancelable && e.preventDefault();
          }
      };
      el.addEventListener('touchstart', touchstart);
      el.addEventListener('touchmove', touchmove);
      return function () {
          el.removeEventListener('touchstart', touchstart);
          el.removeEventListener('touchmove', touchmove);
      };
  });

  return preventTouchScroll;

}());
