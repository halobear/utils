var haloDownload = (function (exports) {
  'use strict';

  /**
   * @description: 根据地址下载
   * @param {String} href
   * @param {String} name
   */
  function download(href, name) {
      if (name === void 0) { name = Date.now() + ".txt"; }
      var a = document.createElement("a");
      a.download = name;
      a.style.display = "none";
      a.href = href;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
  }
  /**
   * @description: 下载blob对象
   * @param {Blob} blob
   * @param {String} name
   */
  function downloadBlob(blob, name) {
      var href = URL.createObjectURL(blob);
      download(href, name);
  }
  /**
   * @description: 下载文字
   * @param {String} str
   * @param {String} name
   */
  function downloadStr(str, name) {
      var blob = new Blob([str]);
      downloadBlob(blob, name);
  }
  /**
   * @description: 下载图片
   * @param {String} src
   * @param {String} name
   */
  function downloadImage(src, name) {
      if (name === void 0) { name = Date.now() + ".png"; }
      var image = new Image();
      image.setAttribute("crossOrigin", "anonymous");
      image.src = src;
      image.onload = function () {
          var canvas = document.createElement("canvas");
          canvas.width = image.width;
          canvas.height = image.height;
          var context = canvas.getContext("2d");
          if (context) {
              context.drawImage(image, 0, 0, image.width, image.height);
              var href = canvas.toDataURL("image/png");
              download(href, name);
          }
      };
  }

  exports.download = download;
  exports.downloadBlob = downloadBlob;
  exports.downloadImage = downloadImage;
  exports.downloadStr = downloadStr;

  Object.defineProperty(exports, '__esModule', { value: true });

  return exports;

}({}));
