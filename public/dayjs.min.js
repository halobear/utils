var haloDayjs = (function () {
  'use strict';

  function format(d, fmt) {
      if (d === void 0) { d = new Date(); }
      if (fmt === void 0) { fmt = "YYYY-MM-DD HH:mm:ss"; }
      var date = d instanceof Date ? d : toDate(d);
      var o = {
          "Y+": date.getFullYear(),
          "M+": date.getMonth() + 1,
          "D+": date.getDate(),
          "H+": date.getHours(),
          "m+": date.getMinutes(),
          "s+": date.getSeconds(),
          "q+": Math.floor((date.getMonth() + 3) / 3),
          "S+": date.getMilliseconds() //毫秒
      };
      for (var k in o) {
          if (new RegExp("(" + k + ")").test(fmt)) {
              if (k == "Y+") {
                  fmt = fmt.replace(RegExp.$1, ("" + o[k]).substr(4 - RegExp.$1.length));
              }
              else if (k == "S+") {
                  var lens = RegExp.$1.length;
                  lens = lens == 1 ? 3 : lens;
                  fmt = fmt.replace(RegExp.$1, ("00" + o[k]).substr(("" + o[k]).length - 1, lens));
              }
              else {
                  var v = "" + o[k];
                  fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? v : ("00" + v).substr(v.length));
              }
          }
      }
      return fmt;
  }
  function toDate(s) {
      if (s instanceof Date)
          return s;
      return new Date(s
          .replace(/-/g, "/")
          .replace(/(\.\d+)?/g, "")
          .replace("T", " "));
  }
  var dayjs = { format: format, toDate: toDate };

  return dayjs;

}());
